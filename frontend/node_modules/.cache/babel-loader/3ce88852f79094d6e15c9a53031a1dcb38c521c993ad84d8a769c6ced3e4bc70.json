{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BHUPENDRA SAINI\\\\Downloads\\\\video conferencing\\\\frontend\\\\src\\\\components\\\\Room.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Peer from \"peerjs\";\nimport VideoPlayer from \"./VideoPlayer\";\nimport { FaMicrophone, FaMicrophoneSlash, FaVideo, FaVideoSlash, FaDesktop, FaStop, FaPhoneAlt, FaUserCircle, FaSignOutAlt, FaCopy } from \"react-icons/fa\";\nimport copy from \"copy-to-clipboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Room = ({\n  username,\n  onLogout\n}) => {\n  _s();\n  const [myStream, setMyStream] = useState(null);\n  const [remoteStreams, setRemoteStreams] = useState([]);\n  const [peerIdToCall, setPeerIdToCall] = useState(\"\");\n  const [myPeerId, setMyPeerId] = useState(\"\");\n  const [muted, setMuted] = useState(false);\n  const [videoOff, setVideoOff] = useState(false);\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\n  const peerRef = useRef(null);\n  const currentCallRefs = useRef([]);\n  const screenStreamRef = useRef(null);\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        });\n        setMyStream(stream);\n        peerRef.current = new Peer(undefined, {\n          host: process.env.REACT_APP_PEER_SERVER_HOST || 'localhost',\n          port: Number(process.env.REACT_APP_PEER_SERVER_PORT) || 9000,\n          path: process.env.REACT_APP_PEER_SERVER_PATH || '/peerjs'\n        });\n        peerRef.current.on(\"open\", id => setMyPeerId(id));\n        peerRef.current.on(\"call\", call => {\n          call.answer(stream);\n          currentCallRefs.current.push(call);\n          call.on(\"stream\", remoteStream => {\n            setRemoteStreams(prev => prev.some(s => s.id === remoteStream.id) ? prev : [...prev, remoteStream]);\n          });\n          call.on(\"close\", () => setRemoteStreams(prev => prev.filter(s => {\n            var _call$remoteStream;\n            return s.id !== ((_call$remoteStream = call.remoteStream) === null || _call$remoteStream === void 0 ? void 0 : _call$remoteStream.id);\n          })));\n        });\n        peerRef.current.on(\"error\", err => console.error(err));\n      } catch (err) {\n        alert(\"Could not access camera or microphone. Please check permissions.\");\n      }\n    };\n    init();\n    return () => {\n      var _screenStreamRef$curr, _peerRef$current;\n      currentCallRefs.current.forEach(call => call.close());\n      setRemoteStreams([]);\n      myStream === null || myStream === void 0 ? void 0 : myStream.getTracks().forEach(track => track.stop());\n      (_screenStreamRef$curr = screenStreamRef.current) === null || _screenStreamRef$curr === void 0 ? void 0 : _screenStreamRef$curr.getTracks().forEach(track => track.stop());\n      (_peerRef$current = peerRef.current) === null || _peerRef$current === void 0 ? void 0 : _peerRef$current.destroy();\n      peerRef.current = null;\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  // --- Button Handlers ---\n  const toggleMute = () => {\n    if (!myStream) return;\n    myStream.getAudioTracks().forEach(track => track.enabled = !track.enabled);\n    setMuted(!muted);\n  };\n  const toggleVideo = () => {\n    if (!myStream) return;\n    myStream.getVideoTracks().forEach(track => track.enabled = !track.enabled);\n    setVideoOff(!videoOff);\n  };\n  const startScreenShare = async () => {\n    if (isScreenSharing) {\n      stopScreenShare();\n      return;\n    }\n    try {\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({\n        video: true,\n        audio: false\n      });\n      screenStreamRef.current = screenStream;\n      setIsScreenSharing(true);\n      currentCallRefs.current.forEach(call => {\n        const sender = call.peerConnection.getSenders().find(s => s.track.kind === \"video\");\n        if (sender) sender.replaceTrack(screenStream.getVideoTracks()[0]);\n      });\n      setMyStream(prevStream => {\n        prevStream.getVideoTracks().forEach(track => track.enabled = false);\n        const combinedStream = new MediaStream([...prevStream.getAudioTracks(), ...screenStream.getVideoTracks()]);\n        return combinedStream;\n      });\n      screenStream.getVideoTracks()[0].addEventListener(\"ended\", () => {\n        stopScreenShare();\n      });\n    } catch (error) {\n      console.error(\"Screen sharing failed:\", error);\n      alert(\"Screen sharing was cancelled or failed.\");\n    }\n  };\n  const stopScreenShare = async () => {\n    if (screenStreamRef.current) {\n      screenStreamRef.current.getTracks().forEach(track => track.stop());\n      screenStreamRef.current = null;\n    }\n    setIsScreenSharing(false);\n    try {\n      const cameraStream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n      currentCallRefs.current.forEach(call => {\n        const videoSender = call.peerConnection.getSenders().find(s => s.track.kind === \"video\");\n        if (videoSender) videoSender.replaceTrack(cameraStream.getVideoTracks()[0]);\n        const audioSender = call.peerConnection.getSenders().find(s => s.track.kind === \"audio\");\n        if (audioSender) audioSender.replaceTrack(cameraStream.getAudioTracks()[0]);\n      });\n      setMyStream(cameraStream);\n      setMuted(false);\n      setVideoOff(false);\n    } catch (err) {\n      console.error(\"Failed to revert to camera:\", err);\n      alert(\"Could not access camera/audio to stop screen sharing.\");\n    }\n  };\n  const callPeer = () => {\n    if (!peerIdToCall || !myStream || !peerRef.current) return;\n    const call = peerRef.current.call(peerIdToCall, myStream);\n    currentCallRefs.current.push(call);\n    call.on(\"stream\", remoteStream => {\n      setRemoteStreams(prev => prev.some(s => s.id === remoteStream.id) ? prev : [...prev, remoteStream]);\n    });\n    call.on(\"close\", () => {\n      setRemoteStreams(prev => prev.filter(s => {\n        var _call$remoteStream2;\n        return s.id !== ((_call$remoteStream2 = call.remoteStream) === null || _call$remoteStream2 === void 0 ? void 0 : _call$remoteStream2.id);\n      }));\n    });\n    setPeerIdToCall(\"\");\n  };\n  const leaveCall = () => {\n    currentCallRefs.current.forEach(call => call.close());\n    currentCallRefs.current = [];\n    setRemoteStreams([]);\n    if (myStream) myStream.getTracks().forEach(track => track.stop());\n    setMyStream(null);\n    if (screenStreamRef.current) {\n      screenStreamRef.current.getTracks().forEach(track => track.stop());\n      screenStreamRef.current = null;\n    }\n    if (peerRef.current) {\n      peerRef.current.destroy();\n      peerRef.current = null;\n    }\n    onLogout();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bestui-room-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bestui-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bestui-userinfo\",\n        children: [/*#__PURE__*/_jsxDEV(FaUserCircle, {\n          size: 30,\n          color: \"#444\",\n          style: {\n            marginRight: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bestui-username\",\n            children: username || \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bestui-peerid\",\n            children: [\"Peer ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: myPeerId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bestui-copy\",\n              onClick: () => myPeerId && copy(myPeerId),\n              title: \"Copy Peer ID\",\n              children: /*#__PURE__*/_jsxDEV(FaCopy, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bestui-logout\",\n        onClick: onLogout,\n        title: \"Logout\",\n        children: /*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n          size: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bestui-callpanel\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter peer ID to call\",\n        value: peerIdToCall,\n        onChange: e => setPeerIdToCall(e.target.value),\n        className: \"bestui-peerid-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bestui-call-btn\",\n        onClick: callPeer,\n        children: \"Call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bestui-videosgrid ${isScreenSharing ? \"screensharing\" : \"\"}`,\n      children: [myStream ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bestui-videotile\",\n        children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n          stream: myStream,\n          isMuted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bestui-label\",\n          children: [\"You \", muted && /*#__PURE__*/_jsxDEV(FaMicrophoneSlash, {\n            color: \"#f55\",\n            style: {\n              marginLeft: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bestui-videotile\",\n        children: \"Connecting video...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this), remoteStreams.map((stream, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bestui-videotile\",\n        children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n          stream: stream,\n          isMuted: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bestui-label\",\n          children: \"Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bestui-toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `bestui-toolbar-btn${muted ? \" danger\" : \"\"}`,\n        onClick: toggleMute,\n        title: muted ? \"Unmute Mic\" : \"Mute Mic\",\n        children: muted ? /*#__PURE__*/_jsxDEV(FaMicrophoneSlash, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 20\n        }, this) : /*#__PURE__*/_jsxDEV(FaMicrophone, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `bestui-toolbar-btn${videoOff ? \" danger\" : \"\"}`,\n        onClick: toggleVideo,\n        title: videoOff ? \"Start Video\" : \"Stop Video\",\n        children: videoOff ? /*#__PURE__*/_jsxDEV(FaVideoSlash, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(FaVideo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bestui-toolbar-btn info\",\n        onClick: isScreenSharing ? stopScreenShare : startScreenShare,\n        title: isScreenSharing ? \"Stop Share\" : \"Share Screen\",\n        children: isScreenSharing ? /*#__PURE__*/_jsxDEV(FaStop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(FaDesktop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bestui-toolbar-btn leave\",\n        onClick: leaveCall,\n        title: \"Leave Call\",\n        children: /*#__PURE__*/_jsxDEV(FaPhoneAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(Room, \"FPYV7eaorMtrnjr0pbBFYCbm3H8=\");\n_c = Room;\nexport default Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Peer","VideoPlayer","FaMicrophone","FaMicrophoneSlash","FaVideo","FaVideoSlash","FaDesktop","FaStop","FaPhoneAlt","FaUserCircle","FaSignOutAlt","FaCopy","copy","jsxDEV","_jsxDEV","Room","username","onLogout","_s","myStream","setMyStream","remoteStreams","setRemoteStreams","peerIdToCall","setPeerIdToCall","myPeerId","setMyPeerId","muted","setMuted","videoOff","setVideoOff","isScreenSharing","setIsScreenSharing","peerRef","currentCallRefs","screenStreamRef","init","stream","navigator","mediaDevices","getUserMedia","video","audio","current","undefined","host","process","env","REACT_APP_PEER_SERVER_HOST","port","Number","REACT_APP_PEER_SERVER_PORT","path","REACT_APP_PEER_SERVER_PATH","on","id","call","answer","push","remoteStream","prev","some","s","filter","_call$remoteStream","err","console","error","alert","_screenStreamRef$curr","_peerRef$current","forEach","close","getTracks","track","stop","destroy","toggleMute","getAudioTracks","enabled","toggleVideo","getVideoTracks","startScreenShare","stopScreenShare","screenStream","getDisplayMedia","sender","peerConnection","getSenders","find","kind","replaceTrack","prevStream","combinedStream","MediaStream","addEventListener","cameraStream","videoSender","audioSender","callPeer","_call$remoteStream2","leaveCall","className","children","size","color","style","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","type","placeholder","value","onChange","e","target","isMuted","marginLeft","map","i","_c","$RefreshReg$"],"sources":["C:/Users/BHUPENDRA SAINI/Downloads/video conferencing/frontend/src/components/Room.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport Peer from \"peerjs\";\r\nimport VideoPlayer from \"./VideoPlayer\";\r\nimport {\r\n  FaMicrophone, FaMicrophoneSlash, FaVideo, FaVideoSlash,\r\n  FaDesktop, FaStop, FaPhoneAlt, FaUserCircle, FaSignOutAlt, FaCopy\r\n} from \"react-icons/fa\";\r\nimport copy from \"copy-to-clipboard\";\r\n\r\nconst Room = ({ username, onLogout }) => {\r\n  const [myStream, setMyStream] = useState(null);\r\n  const [remoteStreams, setRemoteStreams] = useState([]);\r\n  const [peerIdToCall, setPeerIdToCall] = useState(\"\");\r\n  const [myPeerId, setMyPeerId] = useState(\"\");\r\n  const [muted, setMuted] = useState(false);\r\n  const [videoOff, setVideoOff] = useState(false);\r\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n\r\n  const peerRef = useRef(null);\r\n  const currentCallRefs = useRef([]);\r\n  const screenStreamRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n        setMyStream(stream);\r\n        peerRef.current = new Peer(undefined, {\r\n          host: process.env.REACT_APP_PEER_SERVER_HOST || 'localhost',\r\n          port: Number(process.env.REACT_APP_PEER_SERVER_PORT) || 9000,\r\n          path: process.env.REACT_APP_PEER_SERVER_PATH || '/peerjs',\r\n        });\r\n        peerRef.current.on(\"open\", id => setMyPeerId(id));\r\n        peerRef.current.on(\"call\", call => {\r\n          call.answer(stream);\r\n          currentCallRefs.current.push(call);\r\n          call.on(\"stream\", remoteStream => {\r\n            setRemoteStreams(prev => prev.some(s => s.id === remoteStream.id) ? prev : [...prev, remoteStream]);\r\n          });\r\n          call.on(\"close\", () => setRemoteStreams(prev => prev.filter(s => s.id !== call.remoteStream?.id)));\r\n        });\r\n        peerRef.current.on(\"error\", err => console.error(err));\r\n      } catch (err) {\r\n        alert(\"Could not access camera or microphone. Please check permissions.\");\r\n      }\r\n    };\r\n    init();\r\n    return () => {\r\n      currentCallRefs.current.forEach(call => call.close());\r\n      setRemoteStreams([]);\r\n      myStream?.getTracks().forEach(track => track.stop());\r\n      screenStreamRef.current?.getTracks().forEach(track => track.stop());\r\n      peerRef.current?.destroy();\r\n      peerRef.current = null;\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // --- Button Handlers ---\r\n  const toggleMute = () => {\r\n    if (!myStream) return;\r\n    myStream.getAudioTracks().forEach(track => track.enabled = !track.enabled);\r\n    setMuted(!muted);\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    if (!myStream) return;\r\n    myStream.getVideoTracks().forEach(track => track.enabled = !track.enabled);\r\n    setVideoOff(!videoOff);\r\n  };\r\n\r\n  const startScreenShare = async () => {\r\n    if (isScreenSharing) {\r\n      stopScreenShare();\r\n      return;\r\n    }\r\n    try {\r\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true, audio: false });\r\n      screenStreamRef.current = screenStream;\r\n      setIsScreenSharing(true);\r\n      currentCallRefs.current.forEach(call => {\r\n        const sender = call.peerConnection.getSenders().find(s => s.track.kind === \"video\");\r\n        if (sender) sender.replaceTrack(screenStream.getVideoTracks()[0]);\r\n      });\r\n      setMyStream(prevStream => {\r\n        prevStream.getVideoTracks().forEach(track => (track.enabled = false));\r\n        const combinedStream = new MediaStream([\r\n          ...prevStream.getAudioTracks(),\r\n          ...screenStream.getVideoTracks(),\r\n        ]);\r\n        return combinedStream;\r\n      });\r\n      screenStream.getVideoTracks()[0].addEventListener(\"ended\", () => {\r\n        stopScreenShare();\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Screen sharing failed:\", error);\r\n      alert(\"Screen sharing was cancelled or failed.\");\r\n    }\r\n  };\r\n\r\n  const stopScreenShare = async () => {\r\n    if (screenStreamRef.current) {\r\n      screenStreamRef.current.getTracks().forEach(track => track.stop());\r\n      screenStreamRef.current = null;\r\n    }\r\n    setIsScreenSharing(false);\r\n    try {\r\n      const cameraStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n      currentCallRefs.current.forEach(call => {\r\n        const videoSender = call.peerConnection.getSenders().find(s => s.track.kind === \"video\");\r\n        if (videoSender) videoSender.replaceTrack(cameraStream.getVideoTracks()[0]);\r\n        const audioSender = call.peerConnection.getSenders().find(s => s.track.kind === \"audio\");\r\n        if (audioSender) audioSender.replaceTrack(cameraStream.getAudioTracks()[0]);\r\n      });\r\n      setMyStream(cameraStream);\r\n      setMuted(false);\r\n      setVideoOff(false);\r\n    } catch (err) {\r\n      console.error(\"Failed to revert to camera:\", err);\r\n      alert(\"Could not access camera/audio to stop screen sharing.\");\r\n    }\r\n  };\r\n\r\n  const callPeer = () => {\r\n    if (!peerIdToCall || !myStream || !peerRef.current) return;\r\n    const call = peerRef.current.call(peerIdToCall, myStream);\r\n    currentCallRefs.current.push(call);\r\n    call.on(\"stream\", (remoteStream) => {\r\n      setRemoteStreams((prev) => prev.some((s) => s.id === remoteStream.id) ? prev : [...prev, remoteStream]);\r\n    });\r\n    call.on(\"close\", () => {\r\n      setRemoteStreams(prev => prev.filter(s => s.id !== call.remoteStream?.id));\r\n    });\r\n    setPeerIdToCall(\"\");\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    currentCallRefs.current.forEach(call => call.close());\r\n    currentCallRefs.current = [];\r\n    setRemoteStreams([]);\r\n    if (myStream) myStream.getTracks().forEach(track => track.stop());\r\n    setMyStream(null);\r\n    if (screenStreamRef.current) {\r\n      screenStreamRef.current.getTracks().forEach(track => track.stop());\r\n      screenStreamRef.current = null;\r\n    }\r\n    if (peerRef.current) {\r\n      peerRef.current.destroy();\r\n      peerRef.current = null;\r\n    }\r\n    onLogout();\r\n  };\r\n\r\n  return (\r\n    <div className=\"bestui-room-container\">\r\n      {/* Header */}\r\n      <header className=\"bestui-header\">\r\n        <div className=\"bestui-userinfo\">\r\n          <FaUserCircle size={30} color=\"#444\" style={{ marginRight: 10 }} />\r\n          <div>\r\n            <div className=\"bestui-username\">{username || \"User\"}</div>\r\n            <div className=\"bestui-peerid\">\r\n              Peer ID: <span>{myPeerId}</span>\r\n              <button className=\"bestui-copy\" onClick={() => myPeerId && copy(myPeerId)} title=\"Copy Peer ID\">\r\n                <FaCopy size={14} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button className=\"bestui-logout\" onClick={onLogout} title=\"Logout\">\r\n          <FaSignOutAlt size={22} />\r\n        </button>\r\n      </header>\r\n\r\n      {/* Call panel */}\r\n      <div className=\"bestui-callpanel\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter peer ID to call\"\r\n          value={peerIdToCall}\r\n          onChange={e => setPeerIdToCall(e.target.value)}\r\n          className=\"bestui-peerid-input\"\r\n        />\r\n        <button className=\"bestui-call-btn\" onClick={callPeer}>Call</button>\r\n      </div>\r\n\r\n      {/* Videos grid */}\r\n      <div className={`bestui-videosgrid ${isScreenSharing ? \"screensharing\" : \"\"}`}>\r\n        {myStream ?\r\n          <div className=\"bestui-videotile\">\r\n            <VideoPlayer stream={myStream} isMuted={true} />\r\n            <div className=\"bestui-label\">You {muted && <FaMicrophoneSlash color=\"#f55\" style={{ marginLeft: 4 }} />}</div>\r\n          </div>\r\n          : <div className=\"bestui-videotile\">Connecting video...</div>\r\n        }\r\n        {remoteStreams.map((stream, i) => (\r\n          <div className=\"bestui-videotile\" key={i}>\r\n            <VideoPlayer stream={stream} isMuted={false} />\r\n            <div className=\"bestui-label\">Guest</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Toolbar */}\r\n      <div className=\"bestui-toolbar\">\r\n        <button className={`bestui-toolbar-btn${muted ? \" danger\" : \"\"}`} onClick={toggleMute} title={muted ? \"Unmute Mic\" : \"Mute Mic\"}>\r\n          {muted ? <FaMicrophoneSlash /> : <FaMicrophone />}\r\n        </button>\r\n        <button className={`bestui-toolbar-btn${videoOff ? \" danger\" : \"\"}`} onClick={toggleVideo} title={videoOff ? \"Start Video\" : \"Stop Video\"}>\r\n          {videoOff ? <FaVideoSlash /> : <FaVideo />}\r\n        </button>\r\n        <button\r\n          className=\"bestui-toolbar-btn info\"\r\n          onClick={isScreenSharing ? stopScreenShare : startScreenShare}\r\n          title={isScreenSharing ? \"Stop Share\" : \"Share Screen\"}\r\n        >\r\n          {isScreenSharing ? <FaStop /> : <FaDesktop />}\r\n        </button>\r\n        <button\r\n          className=\"bestui-toolbar-btn leave\"\r\n          onClick={leaveCall}\r\n          title=\"Leave Call\"\r\n        >\r\n          <FaPhoneAlt />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}